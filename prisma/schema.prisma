generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(uuid())
  email     String   @unique
  password  String
  role      Role
  premium   Boolean  @default(false)
  createdAt DateTime @default(now())
  player    Player?
  trainer   Trainer?
}

model Player {
  id          String   @id @default(uuid())
  userId      String   @unique
  firstName   String
  lastName    String
  birthDate   DateTime
  nationality String
  country     String
  city        String
  sport       Sport
  position    String
  foot        String
  heightCm    Int
  weightKg    Int
  level       String
  prevClubs   String
  currentClub String?
  user        User     @relation(fields: [userId], references: [id])
}

model Trainer {
  id          String   @id @default(uuid())
  userId      String   @unique
  firstName   String
  lastName    String
  birthDate   DateTime
  nationality String
  country     String
  city        String
  sport       Sport
  certificate String?
  experience  String
  interests   String
  user        User     @relation(fields: [userId], references: [id])
}

model Message {
  id         String   @id @default(uuid())
  senderId   String
  receiverId String
  content    String
  createdAt  DateTime @default(now())
}

enum Role {
  PLAYER
  TRAINER
  ADMIN
}

enum Sport {
  FOOTBALL
  BASKETBALL
  VOLLEYBALL
  TENNIS
  PADEL
}
